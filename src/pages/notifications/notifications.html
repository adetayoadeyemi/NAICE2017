<!--
  Generated template for the EventDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

      <ion-navbar color="primary" no-border-bottom>
        <ion-title>Notifications</ion-title>
      </ion-navbar>
</ion-header>


<ion-content no-padding class="content-background">

    <ion-refresher (ionRefresh)="doUpdate($event)">
        <ion-refresher-content></ion-refresher-content>
     </ion-refresher>

        <ion-grid [hidden]="!pushs?.length>0" style="min-height:100%" class="transparent-grid">

            <ion-list class="transparent-list" no-line>

                <ion-card tappable (click)="toggleMessage(push)" *ngFor="let push of pushs" class="transparent-item card-style" no-padding no-margin>
                    <ion-card-content  no-padding no-margin>
                      <ion-grid no-padding no-margin>
                        <ion-row no-padding no-margin>

                          <ion-col col-12 no-margin class="card-style">

                              <p class="date">Sent: {{push.creationDate|date:'short'}}</p>
                              <p class="text mytext">From: {{push.from}}</p>

                              <p class="text mytext">Subject: {{push.subject}}</p>
                          
                          </ion-col>

                          <ion-col [hidden]="shownMessage!==push" col-12 no-margin class="card-style hidden-col">
                              <p class="date">Subject</p>
                              <p class="text" style="text-align:justify" margin-bottom>{{push.subject}}</p>

                              <p class="date">Content</p>
                              <p class="text" style="text-align:justify">{{push.body}}</p>

                              <ion-grid>
                                  <ion-row>
                                    <ion-col col-6>
                                        <button large ion-button clear block (click)="goToMessage(push)">
                                            <ion-icon color="primary" class="fa fa-reply" large></ion-icon>
                                        </button>
                                    </ion-col>
                                    <ion-col col-6>
                                         <button ion-button large clear block (click)="deleteMessage(push)">
                                            <ion-icon color="danger" class="fa fa-trash"></ion-icon>
                                        </button>
                                    </ion-col>
                                  </ion-row>
                              </ion-grid>
                              
                              
                          </ion-col>

                        </ion-row>
                      </ion-grid>
                    </ion-card-content>
                </ion-card>

          </ion-list>

        </ion-grid>


        <ion-grid [hidden]="pushs?.length>0" style="min-height:100%;justify-content: center;" no-padding class="grid-background">
            <ion-row class="faded-list">
                <ion-grid style="height:100%;justify-content: center;">
                <ion-row>
                    <ion-col col-12 style="text-align:center">
                        <p style="color:white">No Notifications yet, pull down to refresh feeds</p>
                    </ion-col>
                </ion-row>
                </ion-grid>
            </ion-row>
        </ion-grid>

    </ion-content>

<ion-footer no-padding no-margin>
      
</ion-footer>

